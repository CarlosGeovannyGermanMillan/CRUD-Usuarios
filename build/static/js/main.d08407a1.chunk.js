(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{210:function(e,t,a){e.exports=a(370)},215:function(e,t,a){},216:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(25),s=a.n(n),l=(a(215),a(177)),i=a(178),c=a(199),d=a(179),u=a(200),m=(a(216),a(54)),h=a(379),p=a(371),E=a(378),f=a(380),v=a(377),g=a(39),y=a(381),C=a(198),b=a(382),w=(a(217),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={users:[],openNewUserModal:!1,openEditUserModal:!1,openConfirmDeleteModal:!1,openViewUserModal:!1,usersFilter:[],showMessage:!1,mensaje:"",toDeleteUser:{},toEditUser:{},inputFiltro:"",nombre:"",apellidos:"",correo:"",edad:"",errorNombre:!1,errorApellidos:!1,errorCorreo:!1,errorEdad:!1},a.getUsers=function(e){fetch("http://localhost/users").then(function(e){return e.json()}).then(function(e){return a.setState({users:e.data,usersFilter:e.data})}).then(function(e){return a.setState({openConfirmDeleteModal:!1})}).catch(function(e){return console.error(e)})},a.renderUser=function(e){var t=e.id,a=e.nombre;e.apellidos;return o.a.createElement("div",{key:t},a)},a.handleKeyPress=function(e,t){"Enter"===e.key&&("modificar"==t&&a.updateUser(),"crear"==t&&a.createNewUser())},a.keypressBusqueda=function(e){"Enter"===e.key&&a.filtrar()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"viewUser",value:function(e){this.setState({nombre:e.nombre,apellidos:e.apellidos,correo:e.correo,edad:e.edad,openViewUserModal:!0})}},{key:"newUser",value:function(){this.setState({nombre:"",apellidos:"",correo:"",edad:"",openNewUserModal:!0})}},{key:"createNewUser",value:function(){var e=this,t=this.state,a=t.nombre,r=t.apellidos,o=t.correo,n=t.edad;a.trim()?(this.setState({errorNombre:!1,showMessage:!1}),r.trim()?(this.setState({errorApellidos:!1,showMessage:!1}),o.trim()?this.validarEmail(o)?(this.setState({errorCorreo:!1,showMessage:!1}),n.trim()?(this.setState({errorEdad:!1,showMessage:!1}),fetch("http://localhost/users/create?nombre=".concat(a,"&apellidos=").concat(r,"&correo=").concat(o,"&edad=").concat(n)).then(function(t){return e.getUsers()}).catch(function(e){return console.error(e)}),m.b.success("Usuario Creado"),this.closeNewUserModal()):this.setState({errorEdad:!0,showMessage:!0,mensaje:"Ingrese la edad del usuario"})):this.setState({errorCorreo:!0,showMessage:!0,mensaje:"Ingrese un correo v\xe1lido"}):this.setState({errorCorreo:!0,showMessage:!0,mensaje:"Ingrese el correo del usuario"})):this.setState({errorApellidos:!0,showMessage:!0,mensaje:"Ingrese el apellido del usuario"})):this.setState({errorNombre:!0,showMessage:!0,mensaje:"Ingrese el nombre del usuario"})}},{key:"validarEmail",value:function(e){return!!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}},{key:"closeNewUserModal",value:function(){this.setState({showMessage:!1,errorApellidos:!1,errorNombre:!1,errorCorreo:!1,errorEdad:!1,nombre:"",correo:"",edad:"",apellidos:"",openNewUserModal:!1})}},{key:"deleteUser",value:function(){var e=this,t=this.state.toDeleteUser;fetch("http://localhost/users/delete?id=".concat(t.id)).then(function(t){return e.getUsers()}).catch(function(e){return console.error(e)}),m.b.success("Usuario Eliminado")}},{key:"openEdit",value:function(e){this.setState({nombre:e.nombre,apellidos:e.apellidos,correo:e.correo,edad:e.edad,toEditUser:e,openEditUserModal:!0})}},{key:"updateUser",value:function(){var e=this,t=this.state,a=t.nombre,r=t.apellidos,o=t.correo,n=t.edad,s=t.toEditUser;a.trim()?(this.setState({errorNombre:!1,showMessage:!1}),r.trim()?(this.setState({errorApellidos:!1,showMessage:!1}),""!=n?(this.setState({errorEdad:!1,showMessage:!1}),o.trim()?this.validarEmail(o)?(this.setState({errorCorreo:!1,showMessage:!1}),fetch("http://localhost/users/update?nombre=".concat(a,"&apellidos=").concat(r,"&correo=").concat(o,"&edad=").concat(n,"&id=").concat(s.id)).then(function(t){return e.getUsers()}).catch(function(e){return console.error(e)}),m.b.success("Usuario Actualizado"),this.closeEditUserModal()):this.setState({errorCorreo:!0,showMessage:!0,mensaje:"Ingrese un correo v\xe1lido"}):this.setState({errorCorreo:!0,showMessage:!0,mensaje:"Ingrese el correo del usuario"})):this.setState({errorEdad:!0,showMessage:!0,mensaje:"Ingrese la edad del usuario"})):this.setState({errorApellidos:!0,showMessage:!0,mensaje:"Ingrese el apellido del usuario"})):this.setState({errorNombre:!0,showMessage:!0,mensaje:"Ingrese el nombre del usuario"})}},{key:"closeEditUserModal",value:function(){this.setState({nombre:"",correo:"",apellidos:"",edad:"",showMessage:!1,errorCorreo:!1,errorNombre:!1,errorApellidos:!1,errorEdad:!1,openEditUserModal:!1})}},{key:"filtrar",value:function(){var e=this.state,t=e.users,a=e.usersFilter,r=e.inputFiltro;r.trim()?(a=[],t.map(function(e,t){-1!=e.nombre.toUpperCase().indexOf(r.toUpperCase())&&a.push(e)})):a=t,this.setState({usersFilter:a})}},{key:"onChangeInputSearch",value:function(e){var t=this.state,a=(t.inputFiltro,t.users);0==e.length?this.setState({usersFilter:a,inputFiltro:e}):this.setState({inputFiltro:e})}},{key:"validaLongitud",value:function(e,t){return!(e.length>t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.openNewUserModal,r=t.openEditUserModal,n=t.openConfirmDeleteModal,s=t.openViewUserModal,l=t.inputFiltro,i=t.showMessage,c=t.nombre,d=t.correo,u=t.apellidos,w=t.edad,M=t.usersFilter,S=t.mensaje,U=t.errorNombre,N=t.errorApellidos,k=t.errorCorreo,x=t.errorEdad,A=null!=M&&M.length>0?o.a.createElement("div",{className:"divBodyTable"},o.a.createElement(h.a,{className:"tableUsers"},o.a.createElement(h.a.Header,null,o.a.createElement(h.a.Row,null,o.a.createElement(h.a.HeaderCell,{textAlign:"center"},"ID"),o.a.createElement(h.a.HeaderCell,{textAlign:"center"},"Nombre"),o.a.createElement(h.a.HeaderCell,{textAlign:"center"},"Apellidos"),o.a.createElement(h.a.HeaderCell,{textAlign:"center"}))),o.a.createElement(h.a.Body,{className:"bodyTableUsers"},M.map(function(t,a){return o.a.createElement(h.a.Row,{key:t.id+""+a},o.a.createElement(h.a.Cell,{textAlign:"center"},t.id),o.a.createElement(h.a.Cell,{textAlign:"center"},t.nombre),o.a.createElement(h.a.Cell,{textAlign:"center"},t.apellidos),o.a.createElement(h.a.Cell,{textAlign:"center"},o.a.createElement(p.a,{icon:"edit",color:"green",onClick:function(){return e.openEdit(t)}}),o.a.createElement(p.a,{icon:"delete",color:"red",onClick:function(){return e.setState({toDeleteUser:t,openConfirmDeleteModal:!0})}}),o.a.createElement(p.a,{icon:"eye",color:"blue",onClick:function(){return e.viewUser(t)}})))})))):o.a.createElement("div",{className:"contentMessageUsers"},o.a.createElement("div",{className:"messageVacio"},"No hay usuarios registrados")),P=o.a.createElement(E.a,{closeIcon:!0,size:"tiny",open:a,onClose:function(){return e.closeNewUserModal()}},o.a.createElement(E.a.Header,{className:"headerModal"},"Nuevo usuario"),o.a.createElement(E.a.Content,null,i?o.a.createElement(f.a,{negative:!0},o.a.createElement(f.a.Header,null,"Error"),o.a.createElement("p",null,S)):null,o.a.createElement(v.a,{style:{marginBottom:"5px"},value:c,onChange:function(t,a){e.validaLongitud(a.value,44)?e.setState({nombre:a.value}):e.setState({nombre:c})},error:U,type:"text",onKeyPress:function(t){return e.handleKeyPress(t,"crear")},fluid:!0,placeholder:"Nombre"}),o.a.createElement(v.a,{style:{marginBottom:"5px"},value:u,onChange:function(t,a){e.validaLongitud(a.value,44)?e.setState({apellidos:a.value}):e.setState({apellidos:u})},error:N,onKeyPress:function(t){return e.handleKeyPress(t,"crear")},type:"text",fluid:!0,placeholder:"Apellidos"}),o.a.createElement(v.a,{style:{marginBottom:"5px"},value:d,onChange:function(t,a){e.validaLongitud(a.value,44)?e.setState({correo:a.value}):e.setState({correo:d})},error:k,onKeyPress:function(t){return e.handleKeyPress(t,"crear")},type:"text",fluid:!0,placeholder:"Correo Electr\xf3nico"}),o.a.createElement(v.a,{value:w,onChange:function(t,a){e.validaLongitud(a.value,3)?e.setState({edad:a.value}):e.setState({edad:w})},error:x,onKeyPress:function(t){return e.handleKeyPress(t,"crear")},type:"number",fluid:!0,placeholder:"Edad"}),o.a.createElement(p.a,{className:"buttonModal",onClick:function(){return e.createNewUser()}},"Crear"))),j=o.a.createElement(E.a,{closeIcon:!0,size:"tiny",open:s,onClose:function(){return e.setState({openViewUserModal:!1})}},o.a.createElement(E.a.Header,{className:"headerModal"},"Visualizar usuario"),o.a.createElement(E.a.Content,null,o.a.createElement(v.a,{style:{marginBottom:"5px"},disabled:!0,value:c,type:"text",fluid:!0,placeholder:"Nombre"}),o.a.createElement(v.a,{value:u,style:{marginBottom:"5px"},disabled:!0,type:"text",fluid:!0,placeholder:"Apellidos"}),o.a.createElement(v.a,{value:d,style:{marginBottom:"5px"},disabled:!0,type:"text",fluid:!0,placeholder:"Correo Electr\xf3nico"}),o.a.createElement(v.a,{value:w,disabled:!0,type:"number",fluid:!0,placeholder:"Edad"}))),I=o.a.createElement(E.a,{closeIcon:!0,size:"tiny",open:r,onClose:function(){return e.closeEditUserModal()}},o.a.createElement(E.a.Header,{className:"headerModal"},"Modificar usuario"),o.a.createElement(E.a.Content,null,i?o.a.createElement(f.a,{negative:!0},o.a.createElement(f.a.Header,null,"Error"),o.a.createElement("p",null,S)):null,o.a.createElement(v.a,{style:{marginBottom:"5px"},value:c,onChange:function(t,a){e.validaLongitud(a.value,44)?e.setState({nombre:a.value}):e.setState({nombre:c})},error:U,onKeyPress:function(t){return e.handleKeyPress(t,"modificar")},type:"text",fluid:!0,placeholder:"Nombre"}),o.a.createElement(v.a,{style:{marginBottom:"5px"},value:u,onChange:function(t,a){e.validaLongitud(a.value,44)?e.setState({apellidos:a.value}):e.setState({apellidos:u})},error:N,onKeyPress:function(t){return e.handleKeyPress(t,"modificar")},type:"text",fluid:!0,placeholder:"Apellidos"}),o.a.createElement(v.a,{style:{marginBottom:"5px"},value:d,onChange:function(t,a){e.validaLongitud(a.value,44)?e.setState({correo:a.value}):e.setState({correo:d})},error:k,onKeyPress:function(t){return e.handleKeyPress(t,"modificar")},type:"text",fluid:!0,placeholder:"Correo Electr\xf3nico"}),o.a.createElement(v.a,{onChange:function(t,a){e.validaLongitud(a.value,3)?e.setState({edad:a.value}):e.setState({edad:w})},value:w,error:x,onKeyPress:function(t){return e.handleKeyPress(t,"modificar")},type:"number",fluid:!0,placeholder:"Edad"}),o.a.createElement(p.a,{className:"buttonModal",onClick:function(){return e.updateUser()}},"Modificar"))),K=o.a.createElement(E.a,{onClose:function(){return e.setState({openConfirmDeleteModal:!1})},open:n,basic:!0,size:"small"},o.a.createElement(E.a.Header,{icon:"archive",content:"\xbfDesea eliminar el usuario?"}),o.a.createElement(E.a.Content,null,o.a.createElement("p",null,"Ya no podr\xe1 hacer uso de este usuario al confirmar esta acci\xf3n.")),o.a.createElement(E.a.Actions,null,o.a.createElement(p.a,{onClick:function(){return e.setState({openConfirmDeleteModal:!1})},basic:!0,color:"red",inverted:!0},o.a.createElement(g.a,{name:"remove"})," No"),o.a.createElement(p.a,{onClick:function(){return e.deleteUser()},color:"green",inverted:!0},o.a.createElement(g.a,{name:"checkmark"})," S\xed")));return o.a.createElement("div",null,o.a.createElement(y.a,null,o.a.createElement(y.a.Row,{className:"HeaderComponent"},o.a.createElement(C.a,{className:"imagenCoppelLogo",src:"https://www.coppel.com/wcsstore/AuroraStorefrontAssetStore/emarketing/homepage/septiembre2018/coppel.png"})),o.a.createElement(y.a.Row,{style:{height:"600px"}},o.a.createElement("div",{className:"contentUsers"},o.a.createElement(b.a,{as:"h2"},"Registro de usuarios"),o.a.createElement("div",{className:"divLineBottomTitle"}),o.a.createElement("div",{className:"divHeader"},o.a.createElement("div",{className:"divInputSearch"},o.a.createElement(v.a,{icon:"search",fluid:!0,value:l,onChange:function(t,a){return e.onChangeInputSearch(a.value)},onKeyPress:function(t){return e.keypressBusqueda(t)},iconPosition:"left",placeholder:"Presione enter para filtrar..."})),o.a.createElement("div",{className:"divButtonNuevo"},o.a.createElement(p.a,{className:"buttonNuevo",onClick:function(){return e.newUser()}},"Nuevo"))),A,P,I,K,j,o.a.createElement(m.a,{autoClose:3e3}))),o.a.createElement(y.a.Row,{className:"footerUsers"},o.a.createElement("div",{className:"divFooterIcons"},o.a.createElement(g.a,{name:"facebook"}),o.a.createElement(g.a,{name:"twitter"}),o.a.createElement(g.a,{name:"pinterest p"})),o.a.createElement("div",{className:"divFooterMessage"},"2018 \xa9 Coppel todos los derechos reservados"))))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=document.createElement("link");M.rel="stylesheet",M.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(M),s.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[210,1,2]]]);
//# sourceMappingURL=main.d08407a1.chunk.js.map